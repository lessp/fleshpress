<?php include_once 'header.html'; ?>

<h1>category/:id</h1>

<h2 id="findAll" style="display: flex; align-items: center;">
    <?php echo strtolower($params['categoryName']); ?>
<ul style="display: inline-block; margin-left: auto;">
    <li>
        <a class="button" href="/posts" title="all">
            all
        </a>
    </li>
<?php foreach($params['categories'] as $category): ?>
    <li>
        <a class="button" href="<?php echo '/category/' . $category['id']; ?>" title="<?php echo $category['name'] ?>">
            <?php echo strtolower($category['name']); ?>
        </a>
    </li>
<?php endforeach; ?>
</ul>
</h2>
<section class="posts">
<?php if (! empty($params['posts'])): ?>
    <?php foreach($posts as $post): ?>
    <article data-id="<?php echo $post['id']; ?>">
        <h3>
            <a href="/post/<?php echo $post['id']; ?>">
                <?php echo $post['title']; ?>
            </a>
        </h3>
        <span>
            <strong>Categories:</strong> 
            <?php foreach($post['categories'] as $category): ?>
                <a class="category" href="<?php echo '/category/' . $category['id']; ?>" title="<?php echo $category['name'] ?>">
                    <i><?php echo $category['name']; ?></i>
                </a>
            <?php endforeach; ?>
        </span>
        <p><?php echo $post['content']; ?></p>
        <span>
            <?php foreach($post['tags'] as $tag): ?>
            <a class="tag-link" href="<?php echo '/tag/' . $tag['id']; ?>" title="<?php echo $tag['name'] ?>">
                <span class="tag">
                    <?php echo $tag['name']; ?>
                </span>
            </a>
            <?php endforeach; ?>
        </span>
    </article>
    <?php endforeach; ?>
<?php else: ?>
<article>
    <p>This category seems to be empty.</p>
</article>
<?php endif; ?>
</section>

<h2>$params</h2>
<article>
<pre>
<?php print_r($params); ?>
</pre>
</article>

<?php include_once 'footer.html'; ?>