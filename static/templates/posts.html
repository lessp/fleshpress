<?php include_once 'header.html'; ?>

<h1>posts</h1>

<?php if (! empty($params['updatedPost'])) : ?>
    <h2 id="findByIdAndUpdate">Post::findByIdAndUpdate(1)</h2>
    <article data-id="<?php echo $params['updatedPost']['id']; ?>">
        <h3>
            <a href="/post/<?php echo $params['updatedPost']['id']; ?>">
                <?php echo $params['updatedPost']['title']; ?>
            </a>
        </h3>
        <!-- <span><?php echo $params['updatedPost']['author']; ?></span> -->
        <p><?php echo $params['updatedPost']['content']; ?></p>
    </article>

<?php endif; ?>

<h2 id="findAll" style="display: flex; align-items: center;">Post::findAll()
<ul style="display: inline-block; margin-left: auto;">
    <li>
        <a class="button" href="/posts" title="all">
            all
        </a>
    </li>
<?php foreach($params['categories'] as $category): ?>
    <li>
        <a class="button" href="<?php echo '/category/' . $category['id']; ?>" title="<?php echo $category['name'] ?>">
            <?php echo strtolower($category['name']); ?>
        </a>
    </li>
<?php endforeach; ?>
</ul>
</h2>
<section class="posts">
<?php foreach($posts as $post): ?>
    <article data-id="<?php echo $post['id']; ?>">
        <h3>
            <a href="/post/<?php echo $post['id']; ?>">
                <?php echo $post['title']; ?>
            </a>
        </h3>
        <span>
            <strong>Category:</strong> 
            <a href="<?php echo '/category/' . $post['category_id']; ?>" title="<?php echo $post['category'] ?>">
                <i><?php echo $post['category']; ?></i>
            </a>
        </span>
        <p><?php echo $post['content']; ?></p>
    </article>
<?php endforeach; ?>
</section>

<h2 id="findById">Post::findById(1)</h2>
<?php foreach($params['post'] as $post) : ?>
    <article data-id="<?php echo $post['id']; ?>">
        <h3>
            <a href="/post/<?php echo $post['id']; ?>">
                <?php echo $post['title']; ?>
            </a>
        </h3>
        <p><?php echo $post['content']; ?></p>
    </article>
<?php endforeach; ?>

<h2>$params</h2>
<article>
<pre>
<?php print_r($params); ?>
</pre>
</article>

<?php include_once 'footer.html'; ?>