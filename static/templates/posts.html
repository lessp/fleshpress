<?php include_once 'header.html'; ?>

<h1>posts</h1>

<!-- <ul>
<?php foreach($params['categories'] as $category): ?>
    <li>
        <a href="<?php echo '/posts/' . $category['id']; ?>" title="<?php echo $category['name'] ?>">
            <h3><?php echo strtolower($category['name']); ?></h3>
        </a>
    </li>
<?php endforeach; ?>
</ul> -->

<?php if (! empty($params['updatedPost'])) : ?>
    <h2 id="findByIdAndUpdate">Post::findByIdAndUpdate(1)</h2>
    <article data-id="<?php echo $params['updatedPost']['id']; ?>">
        <h3><?php echo $params['updatedPost']['title']; ?></h3>
        <!-- <span><?php echo $params['updatedPost']['author']; ?></span> -->
        <p><?php echo $params['updatedPost']['content']; ?></p>
    </article>

<?php endif; ?>

<h2 id="findAll">Post::findAll()</h2>
<section class="posts">
<?php foreach($params['posts'] as $post): ?>
    <article data-id="<?php echo $post['id']; ?>">
        <h3><?php echo $post['title']; ?></h3>
        <span>
            <strong>Category:</strong> 
            <a href="<?php echo '/posts/' . $post['category_id']; ?>" title="<?php echo $post['category'] ?>">
                <i><?php echo $post['category']; ?></i>
            </a>
        </span>
        <p><?php echo $post['content']; ?></p>
    </article>
<?php endforeach; ?>
</section>

<h2 id="findById">Post::findById(1)</h2>
<?php foreach($params['post'] as $post) : ?>
    <article data-id="<?php echo $post['id']; ?>">
        <h3><?php echo $post['title']; ?></h3>
        <!-- <span><?php echo $post['author']; ?></span> -->
        <p><?php echo $post['content']; ?></p>
    </article>
<?php endforeach; ?>

<h2>$params</h2>
<article>
<pre>
<?php print_r($params); ?>
</pre>
</article>

<?php include_once 'footer.html'; ?>